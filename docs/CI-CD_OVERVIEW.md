# ๐ Tenerife.UI โ CI/CD Overview (2025 Edition)

ะญัะพั ะดะพะบัะผะตะฝั ะพะฟะธััะฒะฐะตั **ะฟะพะปะฝัั ััััะบัััั CI/CD-ะฟะฐะนะฟะปะฐะนะฝะพะฒ** UI-ะฑะธะฑะปะธะพัะตะบะธ Tenerife.UI. ะะฝ ัะธะบัะธััะตั ัะพะปะธ ะบะฐะถะดะพะณะพ workflow, ะฟะพััะดะพะบ ะทะฐะฟััะบะฐ, ััะธะณะณะตัั, ะพะฑัะทะฐะฝะฝะพััะธ ะธ ะฐััะธัะตะบัััั. ะะพะบัะผะตะฝั ัะฒะปัะตััั ััะฐะปะพะฝะพะผ ะธ ะดะพะปะถะตะฝ ะฒัะตะณะดะฐ ะพััะฐะฒะฐัััั ะฒ ะฐะบััะฐะปัะฝะพะผ ัะพััะพัะฝะธะธ.

---

# ๐ 1. ะะฑัะฐั ััััะบัััะฐ CI/CD

ะ ะฑะธะฑะปะธะพัะตะบะต ะธัะฟะพะปัะทัะตััั **4 ะฝะตะทะฐะฒะธัะธะผัั pipeline**, ะบะฐะถะดัะน ะพัะฒะตัะฐะตั ะทะฐ ัะฒะพั ะพัะดะตะปัะฝัั ะพะฑะปะฐััั:

1. **Quality Checks** โ ะฟัะพะฒะตัะบะฐ ะบะฐัะตััะฒะฐ ะบะพะดะฐ, ัะฑะพัะบะฐ ะธ ัะตััะธัะพะฒะฐะฝะธะต.
2. **Release (manual)** โ ัััะฝะพะน ะทะฐะฟััะบ semantic-release โ npm publish.
3. **Storybook Deploy** โ ะฟัะฑะปะธะบะฐัะธั Storybook ะฝะฐ GitHub Pages.
4. **Test NPM Token (manual)** โ ะพัะปะฐะดะพัะฝัะน ะธะฝััััะผะตะฝั ะดะปั ะฟัะพะฒะตัะบะธ NPM_TOKEN.

ะญัะธ pipeline ัะฐะฑะพัะฐัั ะฝะตะทะฐะฒะธัะธะผะพ ะธ ะะ ะดะพะปะถะฝั ะพะฑัะตะดะธะฝััััั.

---

# ๐ฆ 2. Quality Checks Pipeline

**ะคะฐะนะป:** `.github/workflows/quality.yml`

**ะะฐะฟััะบะฐะตััั ะฟัะธ:**

- push: `main`, `dev`, `feature/**`
- pull_request โ `main`, `dev`

### ๐ ะงัะพ ะดะตะปะฐะตั:

- ๐งน Lint (ESLint)
- ๐จ Prettier check
- ๐ TypeScript typecheck
- ๐งช Unit tests
- โฟ Accessibility tests
- ๐ Build ะฑะธะฑะปะธะพัะตะบะธ
- ๐ Build Storybook

### ๐ฏ ะะฐะดะฐัะฐ:

ะะฑะตัะฟะตัะธัั, ััะพ ะฑะธะฑะปะธะพัะตะบะฐ **ะฒัะตะณะดะฐ ัะพะฑะธัะฐะตััั, ัะธะฟะธะทะธัะพะฒะฐะฝะฐ, ัะตััั ะฟัะพัะพะดัั** ะธ UI-ัะธััะตะผะฐ ะฝะต ะปะพะผะฐะตััั.

### ๐ ะัะธะผะตัะฐะฝะธะต:

Quality ะฝะต ะฟัะฑะปะธะบัะตั ะฟะฐะบะตั ะธ ะฝะต ะดะตะฟะปะพะธั Storybook โ ะพะฝ ัะพะปัะบะพ ะฟัะพะฒะตััะตั.

---

# ๐ฉ 3. Release Pipeline (manual semantic-release)

**ะคะฐะนะป:** `.github/workflows/release.yml`

**ะะฐะฟััะบะฐะตััั:**

- โ๏ธ _ะขะพะปัะบะพ ะฒัััะฝัั_ ัะตัะตะท "Run Workflow".

### ๐ ะงัะพ ะดะตะปะฐะตั:

- ะฃััะฐะฝะฐะฒะปะธะฒะฐะตั PNPM ะธ Node
- ะัะพะฒะตััะตั ะดะพัััะฟะฝะพััั npm-ัะพะบะตะฝะฐ
- ะัะฟะพะปะฝัะตั accessibility suite
- ะัะฟะพะปะฝัะตั `semantic-release` (npm publish + git tag + GitHub Release)

### ๐ฏ ะะฐะดะฐัะฐ:

ะะพะทะฒะพะปะธัั ะฒัะฟััะบะฐัั ะฒะตััะธะธ ะฑะธะฑะปะธะพัะตะบะธ **ะฑะตะท ัััะฝะพะณะพ ะธะทะผะตะฝะตะฝะธั version ะฒ package.json**.

### ๐ฅ semantic-release ะดะตะปะฐะตั ะฐะฒัะพะผะฐัะธัะตัะบะธ:

- ะพะฟัะตะดะตะปะตะฝะธะต ะฝะพะฒะพะน ะฒะตััะธะธ ะธะท commit messages
- ะณะตะฝะตัะฐัะธั changelog
- ัะพะทะดะฐะฝะธะต GitHub Release
- ะฟัะฑะปะธะบะฐัะธั ะฒ npm

---

# ๐ช 4. Storybook Deploy Pipeline

**ะคะฐะนะป:** `.github/workflows/storybook-deploy.yml`

**ะะฐะฟััะบะฐะตััั ะฟัะธ:**

- push โ `main`
- ะฒัััะฝัั (`workflow_dispatch`)

### ๐ ะงัะพ ะดะตะปะฐะตั:

- ัะพะฑะธัะฐะตั Storybook (`storybook-static`)
- ะทะฐะณััะถะฐะตั ะฐััะตัะฐะบั
- ะฟัะฑะปะธะบัะตั ะฝะฐ GitHub Pages ัะตัะตะท Pages API

### ๐ฏ ะะฐะดะฐัะฐ:

ะะตัะถะฐัั **ะถะธะฒัั ะพะฝะปะฐะนะฝ-ะฒะตััะธั Storybook**, ะบะฐะบ ะดะพะบัะผะตะฝัะฐัะธั ะดะปั ะดะธะทะฐะนะฝะตัะพะฒ ะธ ัะฐะทัะฐะฑะพััะธะบะพะฒ.

### ๐ URL ัะฐะทะฒััััะฒะฐะฝะธั:

- ัะพัะผะธััะตััั ัะตัะตะท GitHub Pages environment.

---

# ๐ง 5. Test NPM Token (Manual Diagnostics)

**ะคะฐะนะป:** `.github/workflows/test-npm-token.yml`

**ะะฐะฟััะบะฐะตััั:**

- ะฒัััะฝัั (`workflow_dispatch`)

### ๐ ะงัะพ ะดะตะปะฐะตั:

- ะฟัะพะฒะตััะตั ะฝะฐะปะธัะธะต `NPM_TOKEN`
- ะฟัะพะฒะตััะตั ัะพัะผะฐั ัะพะบะตะฝะฐ (`npm_โฆ`)
- ะดะตะปะฐะตั dry-run publish (ะฝะต ะฟัะฑะปะธะบัะตั ัะตะฐะปัะฝัะน ะฟะฐะบะตั)
- ะทะฐะฟััะบะฐะตั `semantic-release --dry-run`

### ๐ฏ ะะฐะดะฐัะฐ:

**ะัะพะฒะตัะธัั ัะฐะฑะพัะพัะฟะพัะพะฑะฝะพััั ัะพะบะตะฝะฐ NPM**, ััะพะฑั ะธะทะฑะตะถะฐัั ัะฑะพะตะฒ ัะตะปะธะทะพะฒ.

### ๐ ะัะธะผะตัะฐะฝะธะต:

ะญัะพั workflow ะะ ัะฒะปัะตััั ัะฐัััั CI โ ััะพ ะธะฝััััะผะตะฝั ะดะปั ัะฐะทัะฐะฑะพััะธะบะฐ.

---

# ๐งฉ 6. ะะพะบะฐะปัะฝัะน CI ะดะปั ัะฐะทัะฐะฑะพััะธะบะฐ

**ะคะฐะนะป:** `scripts/ci-local.sh`

**ะะฐะฟััะบะฐะตััั ะฒัััะฝัั:**

```
pnpm ci:local
```

### ๐ ะงัะพ ะดะตะปะฐะตั:

- ะพัะธัะฐะตั ะบะตัะธ
- ัััะฐะฝะฐะฒะปะธะฒะฐะตั ะทะฐะฒะธัะธะผะพััะธ
- ะทะฐะฟััะบะฐะตั lint / format check
- typecheck
- build
- storybook build

### ๐ฏ ะะฐะดะฐัะฐ:

ะะผะตัั **100% ะธะดะตะฝัะธัะฝัะน CI**, ะบะฐะบ ะฒ GitHub Actions, ะฝะพ ะปะพะบะฐะปัะฝะพ.

---

# ๐ 7. Husky Hooks

**ะฆะตะปั:** ะฟัะตะดะพัะฒัะฐัะธัั ะฟะพะฟะฐะดะฐะฝะธะต ะฝะตะบะฐัะตััะฒะตะฝะฝะพะณะพ ะบะพะดะฐ ะฒ ัะตะฟะพะทะธัะพัะธะน.

### `.husky/pre-commit`

- ะทะฐะฟััะบะฐะตั `lint-staged`
- ะฐะฒัะพัะธะบั ัะพะปัะบะพ ะธะทะผะตะฝัะฝะฝัั ัะฐะนะปะพะฒ

### `.husky/pre-push`

- ะทะฐะฟััะบะฐะตั ะผะธะฝะธะผะฐะปัะฝัะน CI subset
- typecheck
- lint
- build

### `.husky/commit-msg`

- ะฟัะพะฒะตััะตั conventional commits (commitlint)

---

# ๐งฑ 8. ะะฑัะฐั ะฐััะธัะตะบัััะฐ ะฟะฐะนะฟะปะฐะนะฝะพะฒ

```
           โโโโโโโโโโโโโโโโโโโโโโโโ
           โ   Developer push     โ
           โโโโโโโโโโโฌโโโโโโโโโโโโโ
                     โ
        โโโโโโโโโโโโโโผโโโโโโโโโโโโโโโ
        โ     QUALITY PIPELINE      โ
        โ  lint / test / typecheck  โ
        โ    build + storybook      โ
        โโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโ
                     โ
         (if manual) โผ
        โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
        โ    RELEASE PIPELINE        โ
        โ semantic-release โ npm     โ
        โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                     โ
         โโโโโโโโโโโโโผโโโโโโโโโโโโโโ
         โ STORYBOOK DEPLOY PIPELINEโ
         โ   deploy to GitHub Pages โ
         โโโโโโโโโโโโโโโโโโโโโโโโโโโโ

Manual: TEST-NPM-TOKEN
```

---

# ๐ 9. ะัะพะณ

CI/CD ัะธััะตะผั ะฑะธะฑะปะธะพัะตะบะธ ัะฐะทะดะตะปะตะฝั ะฟะพ ะฝะฐะทะฝะฐัะตะฝะธั:

| Workflow             | ะะฐะดะฐัะฐ              | ะะฒัะพะผะฐัะธัะตัะบะธ | ะัะฟะพะปะฝัะตั                     |
| -------------------- | ------------------- | ------------- | ----------------------------- |
| **Quality**          | ะัะพะฒะตัะบะฐ ะบะฐัะตััะฒะฐ   | โ            | lint, tests, typecheck, build |
| **Release**          | ะัะฑะปะธะบะฐัะธั npm      | โ (manual)   | semantic-release              |
| **Storybook Deploy** | ะะพะบัะผะตะฝัะฐัะธั ะพะฝะปะฐะนะฝ | โ (main)     | GitHub Pages                  |
| **Test NPM Token**   | ะะธะฐะณะฝะพััะธะบะฐ ัะพะบะตะฝะฐ  | โ (manual)   | dry-run publish               |

ะญัะพ ะพะฑะตัะฟะตัะธะฒะฐะตั:

- ััะฐะฑะธะปัะฝะพััั
- ะฟัะตะดัะบะฐะทัะตะผะพััั
- ะฑะตะทะพะฟะฐัะฝะพััั npm-ะฟัะฑะปะธะบะฐัะธะน
- ัะดะพะฑััะฒะพ ัะฐะทัะฐะฑะพัะบะธ
- ะฟัะพัะตััะธะพะฝะฐะปัะฝัะน CI/CD ััะพะฒะตะฝั

---

ะะพัะพะฒะพ. ะัะปะธ ะฝัะถะฝะพ โ ัะดะตะปะฐั ะธ ะฒะธะทัะฐะปัะฝัั ะดะธะฐะณัะฐะผะผั ะฒ SVG/ASCII, ะธะปะธ ะดะพะฑะฐะฒะปั ัะฐะทะดะตะป ยซTroubleshooting CI/CDยป. ะัะดะตะผ ัะฐััะธัััั?
