{
  "project": "Tenerife UI Library Master Task",
  "version": "3.0",
  "timezone": "London",
  "layers": [
    {
      "layer": "0. Orientation & Upgrade Layer",
      "tasks": [
        {
          "id": "G0",
          "title": "Consult project structure and design documentation",
          "purpose": "Ensure the entire team fully understands the layered architecture, guidelines and principles defined in STRUCTURE_OF_WORK.md and the original design specifications before starting any implementation or refactoring. This knowledge underpins every other task in the project.",
          "inputs": [
            "docs/structure/STRUCTURE_OF_WORK.md",
            "docs/tenerife_audit/design_system.md",
            "docs/tenerife_audit/components_redesign.md",
            "docs/tenerife_audit/layout_and_brand_guide.md"
          ],
          "outputs": ["Team alignment on project principles and layered workflow"],
          "acceptance_criteria": [
            "All contributors confirm they have read and understood the project structure document and design references.",
            "During planning sessions, team members accurately reference the correct layers and guidelines when proposing work.",
            "Questions raised during the onboarding phase are documented and answered in a FAQ section in the repository."
          ],
          "dependencies": [],
          "status": "completed"
        },
        {
          "id": "U0",
          "title": "Audit existing components for token compliance",
          "purpose": "Perform a comprehensive review of every component in the current library to ensure they use design tokens for colours, typography, spacing, radii, shadows and motion. Identify any direct Tailwind values or hard coded styles and document a plan for migrating those components to a fully token‑driven implementation.",
          "inputs": ["src/components/**/*", "tokens defined in Foundation Layer"],
          "outputs": [],
          "acceptance_criteria": [
            "Every component file has been inspected for raw Tailwind classes and static values.",
            "The audit report lists all components which violate token usage guidelines, detailing which tokens should replace hard coded values.",
            "For each violation, propose a concrete migration step (e.g., replace ‘bg‑slate‑900’ with ‘bg‑[color:var(--tm-surface-base)]’).",
            "A separate issue is filed for each component requiring refactoring, linked back to this audit task."
          ],
          "dependencies": ["G0"],
          "status": "pending"
        },
        {
          "id": "U1",
          "title": "Introduce theme system into existing components",
          "purpose": "Retrofit the existing components with the theme provider and token system from the Foundation layer. All components must read design values from the theme context and respond correctly to theme changes (e.g., dark, light, custom brand).  This includes replacing any remaining inline styles or Tailwind classes with references to CSS custom properties generated from the tokens.",
          "has_subtasks": true,
          "subtasks_file": ".cursor/tasks/subtasks/U1.subtasks.json",
          "inputs": [
            "src/components/**/*",
            "src/theme/ThemeProvider.tsx",
            "tokens from Foundation Layer (F0–F6)"
          ],
          "outputs": [
            "Refactored components using theme context",
            "Updated components documentation"
          ],
          "acceptance_criteria": [
            "Each component imports the theme context or utilises CSS variables generated by the ThemeProvider.",
            "No component references raw colours, spacing, radii or shadows; all values come from CSS variables tied to tokens.",
            "Swapping between provided themes (default, dark, brand) changes the appearance of every component without additional modifications.",
            "All stories in Storybook demonstrate correct rendering for multiple themes."
          ],
          "dependencies": ["U0", "F7", "F8", "F9"],
          "status": "pending"
        },
        {
          "id": "U2",
          "title": "Enforce minimal API and variant consistency",
          "purpose": "Standardise the public API across all components by defining allowable properties such as `variant`, `size` and predefined slots (e.g., icon slots). Remove any ad‑hoc style props or inline customization props that compromise consistency.  Align variant names with the design specifications and ensure the same semantic names are used throughout the library.",
          "inputs": ["docs/tenerife_audit/components_redesign.md", "existing component API definitions"],
          "outputs": [
            "Updated component TypeScript interfaces",
            "Guidelines document on allowed props and variants"
          ],
          "acceptance_criteria": [
            "A table of allowed `variant` values is created and matches the design specification for every component.",
            "A table of allowed `size` values is created and maps directly to spacing and typography tokens defined in F2 and F3.",
            "Components do not accept arbitrary style props (such as `bg`, `px`, `border`) that bypass the token system.",
            "All components use the same naming conventions for variants (e.g., primary, secondary, accent, outline, ghost, link, destructive).",
            "Documentation is updated to reflect these APIs and variant definitions.",
            "TypeScript definitions enforce the minimal API and catch misuse during development."
          ],
          "dependencies": ["U1"],
          "status": "pending"
        },
        {
          "id": "U3",
          "title": "Implement theme scaffolding CLI",
          "purpose": "Develop a command line tool to scaffold new theme packages.  The CLI should generate a skeleton theme file with default overrides for colours, typography, spacing, radii and shadows.  It should also register the new theme with the theme provider and update the project configuration.",
          "inputs": [
            "src/tokens/**/*",
            "src/theme/ThemeProvider.tsx",
            "existing theme files (default, dark, brand)"
          ],
          "outputs": [
            "scripts/init-theme.js",
            "Example generated theme (src/themes/exampleTheme.ts)"
          ],
          "acceptance_criteria": [
            "Running `node scripts/init-theme.js --name neon` produces a new theme file at `src/themes/neon.ts` with all token overrides stubbed out.",
            "The CLI registers the new theme in the theme provider so that it can be selected at runtime.",
            "Generated themes compile correctly with the build system and do not break existing themes.",
            "Documentation describes how to use the CLI and how to extend or customise the generated theme."
          ],
          "dependencies": ["F7", "F8", "F9"],
          "status": "pending"
        },
        {
          "id": "U4",
          "title": "Introduce premium layout sections",
          "purpose": "Create high‑level layout components such as HeroSection, FeatureSection, CTASection and SplitLayout that assemble multiple core components into beautiful, ready‑to‑use sections following the layout and brand guide. These sections should work seamlessly with the theme system and support slotting in custom content via props.",
          "inputs": [
            "docs/tenerife_audit/layout_and_brand_guide.md",
            "docs/tenerife_audit/components_redesign.md",
            "tokens from F1–F6"
          ],
          "outputs": [
            "src/components/sections/HeroSection.tsx",
            "src/components/sections/FeatureSection.tsx",
            "src/components/sections/CTASection.tsx",
            "Storybook stories and unit tests for each section"
          ],
          "acceptance_criteria": [
            "HeroSection supports full‑width and split variants, with fluid typography and dynamic backgrounds derived from tokens.",
            "FeatureSection supports multiple items with icons and descriptions; items respond to theme changes.",
            "CTASection includes primary and secondary call‑to‑action buttons that use the Button component variants.",
            "All sections are fully responsive, accessible (keyboard navigable, ARIA compliant) and tested.",
            "Stories demonstrate each section in dark, light and custom themes."
          ],
          "dependencies": ["C0", "U1", "U2"],
          "status": "pending"
        },
        {
          "id": "U5",
          "title": "Export tokens for design tools",
          "purpose": "Generate token files that can be consumed by external design tools such as Figma, Sketch or Style Dictionary. Provide a script that converts the token JSON into formats supported by these tools and keeps them in sync with the source tokens.",
          "inputs": [
            "src/tokens/colors.ts",
            "src/tokens/typography.ts",
            "src/tokens/spacing.ts",
            "src/tokens/shadows.ts",
            "src/tokens/radius.ts",
            "src/tokens/motion.ts"
          ],
          "outputs": [
            "design-tokens/tokens.json",
            "design-tokens/tokens.fig",
            "scripts/export-tokens.js"
          ],
          "acceptance_criteria": [
            "A script exports all tokens into a single JSON file grouped by category (colours, typography, spacing, shadows, radius, motion).",
            "An additional export is created for Figma, using the Figma tokens specification so that designers can import the palette directly.",
            "Running the export script after token updates regenerates the files without manual intervention.",
            "Documentation explains how designers can import the tokens into their tools and how the export script integrates with CI."
          ],
          "dependencies": ["F0", "F1", "F2", "F3", "F4", "F5", "F6"],
          "status": "pending"
        },
        {
          "id": "U6",
          "title": "Augment accessibility and testing",
          "purpose": "Extend the quality layer by performing a comprehensive accessibility audit across all components and adding automated tests for keyboard navigation, screen reader support and WCAG compliance.  Establish guidelines that ensure new components adhere to these standards and integrate them into the CI pipeline.",
          "inputs": ["src/components/**/*", "Storybook instances", "existing tests"],
          "outputs": [
            "accessibility_audit_report.md",
            "new unit and integration tests",
            "A11y guidelines document"
          ],
          "acceptance_criteria": [
            "Each component includes focus indicators that meet contrast requirements defined in WCAG 2.1 AA.",
            "Keyboard navigation works for all interactive components (Buttons, Inputs, Dropdowns, Modals, etc.).",
            "ARIA attributes are correctly applied and all components announce their state changes via screen readers.",
            "Automated tests cover core accessibility scenarios and are integrated into the CI pipeline.",
            "A11y guidelines document instructs developers on best practices and is included in the repository’s documentation."
          ],
          "dependencies": ["Q1", "Q2"],
          "status": "pending"
        },
        {
          "id": "U7",
          "title": "Build multi‑brand theme engine",
          "purpose": "Extend the theme system to support multiple brand packages beyond default and dark themes.  This involves organising tokens into a structure that can be overridden per brand and providing a mechanism to load and switch brands at runtime. The engine should support namespaced tokens so that brand‑specific values do not leak into other themes.",
          "has_subtasks": true,
          "subtasks_file": ".cursor/tasks/subtasks/U7.subtasks.json",
          "inputs": ["src/theme/ThemeProvider.tsx", "existing theme files", "tokens from F0–F6"],
          "outputs": [
            "src/themes/brand_engine.ts",
            "Example brand themes (e.g., neon.ts, minimal.ts)"
          ],
          "acceptance_criteria": [
            "The theme provider can load multiple theme objects and apply them at runtime.",
            "Brand themes define overrides for colours, typography, spacing, radii and shadows.",
            "Switching the brand via context or configuration updates all components' appearances consistently.",
            "A demonstration page shows at least three distinct brand themes working side‑by‑side."
          ],
          "dependencies": ["U3", "F8", "F9"],
          "status": "pending"
        },
        {
          "id": "U8",
          "title": "Create dynamic layout primitives (Box, Flex, Grid, Stack)",
          "purpose": "Introduce primitive layout components that handle common layout patterns (box, flex container, grid, stack) with responsive props such as gap, direction, align and justify.  These primitives should be built on CSS variables and tokens, enabling dynamic spacing and alignment across different screen sizes and themes.",
          "inputs": ["docs/design_system.md: spacing and layout guidelines", "tokens from F0–F6"],
          "outputs": [
            "src/components/layout/Box.tsx",
            "src/components/layout/Flex.tsx",
            "src/components/layout/Grid.tsx",
            "src/components/layout/Stack.tsx",
            "Storybook stories and tests for each layout primitive"
          ],
          "acceptance_criteria": [
            "Box provides a simple container that forwards style props (padding, margin, background) using tokens and CSS variables.",
            "Flex accepts props like direction, wrap, align, justify, gap and maps them to corresponding CSS variables defined in the spacing tokens.",
            "Grid allows definition of template columns/rows and gap sizes with tokens; supports responsive variants via props.",
            "Stack arranges children vertically or horizontally with dynamic spacing derived from the spacing tokens.",
            "All primitives support theming and respond correctly to theme changes."
          ],
          "dependencies": ["F3", "F7", "F8"],
          "status": "pending"
        },
        {
          "id": "U9",
          "title": "Implement dynamic section builder",
          "purpose": "Create a high‑level API that allows assembling sections by combining layout primitives and core components.  The builder should accept configuration objects defining the layout (columns, rows, order), background surfaces, content slots and overlays.  This will enable rapid construction of custom sections without writing repetitive markup.",
          "has_subtasks": true,
          "subtasks_file": ".cursor/tasks/subtasks/U9.subtasks.json",
          "inputs": [
            "src/components/layout/**/*",
            "src/components/core/**/*",
            "docs/tenerife_audit/layout_and_brand_guide.md"
          ],
          "outputs": ["src/components/SectionBuilder.tsx", "Documentation and examples"],
          "acceptance_criteria": [
            "SectionBuilder accepts a configuration object defining layout (e.g., { type: 'split', imagePosition: 'left', content: [...] }).",
            "The builder composes underlying primitives and core components using tokens for spacing, colours and typography.",
            "Developers can override defaults via props without breaking the token system.",
            "Documentation includes at least three examples of custom sections built with SectionBuilder, such as hero, feature grid and testimonial section."
          ],
          "dependencies": ["U8", "C0", "U4"],
          "status": "pending"
        },
        {
          "id": "U10",
          "title": "Integrate Figma token sync",
          "purpose": "Provide a script or GitHub action to synchronise design tokens between the codebase and Figma.  This ensures that designers and developers work off the same token values and that updates flow in both directions.",
          "has_subtasks": true,
          "subtasks_file": ".cursor/tasks/subtasks/U10.subtasks.json",
          "inputs": [
            "docs/tenerife_audit/design-tokens/tokens.json",
            "Figma token plugin API documentation"
          ],
          "outputs": ["scripts/figma-sync.js", "Instructions for designers and developers"],
          "acceptance_criteria": [
            "Tokens exported from the codebase can be pushed to Figma via the script, updating all colours, typography and spacing styles in the design file.",
            "Changes made to tokens in Figma can be pulled back into the JSON token file via the same tool.",
            "The sync tool integrates into the CI pipeline to prevent divergence between design and implementation.",
            "Documentation includes step‑by‑step instructions on using the sync tool and troubleshooting common issues."
          ],
          "dependencies": ["U5"],
          "status": "pending"
        },
        {
          "id": "U11",
          "title": "Build theme marketplace infrastructure",
          "purpose": "Create a structure within the repository to host and distribute additional theme packages.  Provide guidelines for contributing new themes, versioning them separately and consuming them via the package manager.",
          "inputs": ["src/themes/**/*", "CLI from U3", "theme engine from U7"],
          "outputs": [
            "themes/marketplace/README.md",
            "Example theme packages (e.g., neon, luxury, minimal)"
          ],
          "acceptance_criteria": [
            "A marketplace directory exists with subpackages for each additional theme, each following a consistent structure.",
            "A README explains how to create, publish and install a new theme package.",
            "Themes can be installed independently of the core library and imported via the theme engine.",
            "At least two example themes are provided and demonstrated in Storybook."
          ],
          "dependencies": ["U7", "U3"],
          "status": "pending"
        },
        {
          "id": "U12",
          "title": "Provide component scaffolding CLI",
          "purpose": "Develop a command line utility that generates a new component skeleton, including TypeScript file, variant configuration, story file, test file and index export.  The CLI should apply the token‑driven and minimal API guidelines automatically.",
          "inputs": [
            "docs/tenerife_audit/templates for components",
            "tokens and theme system",
            "existing component conventions"
          ],
          "outputs": ["scripts/init-component.js", "Generated component scaffold"],
          "acceptance_criteria": [
            "Running `node scripts/init-component.js --name Tooltip` creates the file structure under src/components/Tooltip/ with the correct naming conventions.",
            "The generated component imports tokens and uses the variant configuration pattern defined in the guidelines.",
            "Storybook and test files compile without errors and use the appropriate example cases.",
            "Documentation explains how to extend the generated skeleton and how to adhere to design system constraints."
          ],
          "dependencies": ["C0", "U2"],
          "status": "pending"
        },
        {
          "id": "U13",
          "title": "Provide guidelines for customizing tokens and themes",
          "purpose": "Write comprehensive documentation on how to modify existing tokens, add new tokens and customise themes.  Explain how changes propagate through the library and how to maintain consistency when extending the token system.",
          "inputs": [
            "all token files",
            "theme system documentation",
            "conventions from the design system"
          ],
          "outputs": ["docs/customising_tokens_and_themes.md"],
          "acceptance_criteria": [
            "The guide covers colour, typography, spacing, radii, shadows and motion tokens, with examples of adding and overriding values.",
            "It explains how to create a brand new theme, including the recommended file structure and naming conventions.",
            "It explains how to use the CLI tools (U3, U12) to scaffold themes and components while adhering to token guidelines.",
            "Examples show before/after comparisons demonstrating how changes to tokens affect the UI."
          ],
          "dependencies": ["U5", "U7"],
          "status": "pending"
        }
      ]
    },
    {
      "layer": "1. Foundation Layer",
      "tasks": [
        {
          "id": "F0",
          "title": "Create base token files",
          "purpose": "Establish a dedicated tokens folder containing separate files for colours, typography, radii, shadows, spacing and transitions. This meta-task ensures that all visual values are stored in one place and can be centrally managed.",
          "inputs": ["docs/tenerife_audit/design_system.md", "docs/tenerife_audit/components_redesign.md"],
          "outputs": [
            "src/tokens/colors.ts",
            "src/tokens/typography.ts",
            "src/tokens/spacing.ts",
            "src/tokens/shadows.ts",
            "src/tokens/radius.ts",
            "src/tokens/motion.ts"
          ],
          "acceptance_criteria": [
            "A /src/tokens directory exists with separate files for colours, typography, spacing, shadows, radii and motion.",
            "Each file exports CSS variable definitions and TypeScript objects reflecting the design tokens.",
            "No component imports static values; they import from these token files.",
            "Editing a token value updates all consuming styles across the library."
          ],
          "dependencies": [],
          "status": "completed"
        },
        {
          "id": "F1",
          "title": "Implement color palette tokens",
          "purpose": "Define the complete color palette as design tokens based on the Design System's color palette section. This includes primary midnight blues, accent purples, secondary refined cyan, surface colors for dark/light themes, and semantic colors. Tokens must use CSS custom properties and integrate into the Tailwind theme.",
          "inputs": ["docs/design_system.md: colour palette section"],
          "outputs": ["src/tokens/colors.ts", "tailwind.config.js"],
          "acceptance_criteria": [
            "All color tokens from the Design System's primary, accent, secondary, surface, and semantic colors are defined with exact values from the source【524020591353274†L44-L79】.",
            "CSS variables follow naming conventions (e.g., --primary-50 to --primary-950, --accent-50, etc.) as specified in the design system【524020591353274†L44-L79】.",
            "Tailwind config extends the theme colors using these variables.",
            "Dark and light surface tokens are both included."
          ],
          "dependencies": [],
          "status": "completed"
        },
        {
          "id": "F2",
          "title": "Implement typography system tokens",
          "purpose": "Define font families, type scale, font weights, line heights, letter spacing, and predefined text styles as design tokens based on the Design System's typography section. Include Inter as primary font, optional Satoshi, and Clash Display for headings, and implement a fluid type scale using clamp().",
          "inputs": ["docs/design_system.md: typography system section"],
          "outputs": ["src/tokens/typography.ts", "tailwind.config.js"],
          "acceptance_criteria": [
            "Font family variables include Inter (default) and optional alternatives such as Satoshi and Clash Display【524020591353274†L360-L409】.",
            "Type scale variables use clamp() with the exact values from the design system for text-xs through text-6xl【524020591353274†L428-L444】.",
            "Font weight tokens (light to extra‑bold) match the specification【524020591353274†L445-L454】.",
            "Line height and letter spacing tokens are defined as specified【524020591353274†L469-L487】.",
            "Tailwind config extends typography utilities using these tokens."
          ],
          "dependencies": [],
          "status": "completed"
        },
        {
          "id": "F3",
          "title": "Implement spacing system tokens",
          "purpose": "Define the 8‑px based spacing system, including base unit, spacing scale, semantic spacing, component internal spacing, and layout spacing as tokens.",
          "inputs": ["docs/design_system.md: spacing system section"],
          "outputs": ["src/tokens/spacing.ts", "tailwind.config.js"],
          "acceptance_criteria": [
            "Spacing scale variables for space‑0 through space‑96 match the values defined in the design system【524020591353274†L692-L742】.",
            "Semantic spacing tokens (xs through 5xl) map to the appropriate scale values【524020591353274†L745-L758】.",
            "Component internal spacing tokens (padding for buttons, cards, inputs, etc.) are defined exactly as specified【524020591353274†L760-L789】.",
            "Layout spacing tokens for container widths, section padding, grid gaps, and stack gaps are created【524020591353274†L791-L822】.",
            "Tokens are exported and integrated into Tailwind config."
          ],
          "dependencies": [],
          "status": "completed"
        },
        {
          "id": "F4",
          "title": "Implement shadow and glow system tokens",
          "purpose": "Define elevation shadows, colored shadows, glow effects, and focus shadows as tokens. Map default, hover, and active states to specific shadow levels for components.",
          "inputs": ["docs/design_system.md: shadow system section"],
          "outputs": ["src/tokens/shadows.ts", "tailwind.config.js"],
          "acceptance_criteria": [
            "Elevation levels (none, xs, sm, md, lg, xl, 2xl) are defined exactly as in the design system【524020591353274†L935-L974】.",
            "Colored shadow tokens for primary and accent colours include sm, md, and lg variants【524020591353274†L976-L1006】.",
            "Glow effect tokens (subtle and medium) for primary and accent colors are defined【524020591353274†L1008-L1024】.",
            "Focus shadow tokens for accessibility are included【524020591353274†L1032-L1046】.",
            "Shadow mapping table for components is documented for later reference【524020591353274†L1048-L1062】."
          ],
          "dependencies": [],
          "status": "completed"
        },
        {
          "id": "F5",
          "title": "Implement border radius system tokens",
          "purpose": "Define corner radius tokens and component-specific standards in accordance with the design system.",
          "inputs": ["docs/design_system.md: border radius system section"],
          "outputs": ["src/tokens/radius.ts", "tailwind.config.js"],
          "acceptance_criteria": [
            "Radius scale variables from none through 3xl and full are defined exactly as specified【524020591353274†L1252-L1263】.",
            "Component standards map card, button, modal, badge, avatar, etc., to the correct radius token【524020591353274†L1265-L1282】.",
            "Consistency guidelines (matching parent radius, corner variations) are documented for developers【524020591353274†L1284-L1319】."
          ],
          "dependencies": [],
          "status": "completed"
        },
        {
          "id": "F6",
          "title": "Implement motion and transition tokens",
          "purpose": "Create timing and easing tokens for animations and transitions using the durations and philosophy defined in the design system.",
          "inputs": ["docs/design_system.md: motion & transition system section"],
          "outputs": ["src/tokens/motion.ts", "tailwind.config.js"],
          "acceptance_criteria": [
            "Duration tokens (instant through slowest) are defined according to the design system【524020591353274†L1392-L1404】.",
            "Easing functions (standard, ease-out, ease-in-out) are defined as specified in the design system.",
            "Motion tokens include guidelines for reduced motion respecting user preferences."
          ],
          "dependencies": [],
          "status": "completed"
        },
        {
          "id": "F7",
          "title": "Configure Tailwind CSS and theme integration",
          "purpose": "Integrate color, typography, spacing, shadow, radius, and motion tokens into Tailwind's configuration. Provide dark and light theme support using CSS variables.",
          "inputs": ["tokens generated by tasks F1–F6", "docs/tenerife_audit/design_system.md"],
          "outputs": ["tailwind.config.js", "postcss.config.js"],
          "acceptance_criteria": [
            "Tailwind config extends colors, spacing, typography, shadows, borderRadius, and animation durations using the defined tokens.",
            "Dark and light theme classes are defined and switch properly using CSS variables for surface colors【524020591353274†L101-117】.",
            "Config includes plugin to generate fluid type scale from typography tokens.",
            "All design tokens are exposed as CSS variables for use in components.",
            "Tailwind config uses CSS variables exclusively; no raw Tailwind colour or spacing values appear in component code."
          ],
          "dependencies": ["F1", "F2", "F3", "F4", "F5", "F6"],
          "status": "completed"
        },
        {
          "id": "F8",
          "title": "Establish theme system",
          "purpose": "Create a theme provider (e.g., React context) to handle dark and light themes. Implement logic to switch between themes and persist user preference. Provide a utility hook for components.",
          "inputs": ["tokens from F1–F6", "docs/tenerife_audit/design_system.md", "tailwind.config.js"],
          "outputs": ["src/theme/ThemeProvider.tsx", "src/theme/useTheme.ts"],
          "acceptance_criteria": [
            "Theme provider toggles between dark and light surface tokens defined in the design system【524020591353274†L101-L117】.",
            "User preference is stored (e.g., in localStorage) and applied on load.",
            "Components can consume current theme via the hook.",
            "Switching theme updates CSS variables without page reload.",
            "Theme provider supports switching among multiple themes defined under /themes and propagates token overrides globally."
          ],
          "dependencies": ["F7"],
          "status": "completed"
        },
        {
          "id": "F9",
          "title": "Create theme override files",
          "purpose": "Provide a mechanism to override the default tokens via a single theme file. Support multiple themes (default, dark, brand-specific) stored under /themes.",
          "inputs": ["tokens from F0-F6", "docs/tenerife_audit/design_system.md"],
          "outputs": ["src/themes/default.ts", "src/themes/dark.ts", "src/themes/brand.ts"],
          "acceptance_criteria": [
            "Themes export overrides for tokens (e.g., colours, shadows) while preserving the same keys.",
            "Theme loader can switch between themes dynamically, and editing a theme file changes the look of all components.",
            "At least one brand-specific theme file demonstrates token overrides (e.g., accent colours)."
          ],
          "dependencies": ["F8"],
          "status": "completed"
        }
      ]
    },
    {
      "layer": "2. Core Components Layer",
      "tasks": [
        {
          "id": "C0",
          "title": "Enforce token-driven component architecture",
          "purpose": "Define coding guidelines ensuring that all components use token-derived CSS variables through Tailwind classes. Components must be fully controlled via props with no internal state and may not reference raw Tailwind colours, spacing, radii or shadows.",
          "inputs": [
            "tokens from Foundation layer",
            "docs/tenerife_audit/design_system.md",
            "theme system"
          ],
          "outputs": ["CONTRIBUTING.md section on component guidelines"],
          "acceptance_criteria": [
            "Documentation clearly states that components must import tokens instead of static values.",
            "Guidelines specify that components are purely presentational and controlled via props.",
            "Design review checklists enforce these rules for each component PR."
          ],
          "dependencies": ["F0", "F7", "F8"],
          "status": "pending"
        },
        {
          "id": "C1",
          "title": "Create Button component",
          "purpose": "Implement a reusable Button component following the redesign specifications. Support seven variants (primary, secondary, accent, outline, ghost, link, destructive) and five sizes. Include optional icons, loading state, and full ARIA support.",
          "inputs": ["docs/tenerife_audit/components_redesign.md: Button section", "tokens from F1–F6"],
          "outputs": [
            "src/components/Button.tsx",
            "src/components/Button.stories.tsx",
            "src/components/Button.test.tsx"
          ],
          "acceptance_criteria": [
            "Button supports all variants with visual styles matching the redesign (primary uses primary-500 background and colored shadows【770088508010025†L73-L100】, secondary uses elevated surfaces with subtle shadows【770088508010025†L103-L110】, accent uses accent colours and glow【770088508010025†L112-L118】, outline and ghost use transparent backgrounds with appropriate borders【770088508010025†L121-L137】, link uses underline on hover【770088508010025†L139-L145】, destructive uses error colours【770088508010025†L148-L156】).",
            "Five sizes (xs, sm, md, lg, xl) map to the spacing and typography tokens defined in F3 and F2【770088508010025†L158-L167】.",
            "Button exposes loading state with spinner and properly disables interactions.",
            "Icon slots allow left or right icons and align correctly.",
            "ARIA attributes ensure accessibility; keyboard navigation is supported.",
            "Stories demonstrate each variant and size; unit tests verify rendering and state transitions.",
            "Component uses only Tailwind classes that reference CSS variables derived from tokens; no raw colours, spacing or radii are used.",
            "Component is fully controlled via props with zero internal state."
          ],
          "dependencies": ["F1", "F2", "F3", "F4", "F5", "F6", "F7", "F8"],
          "status": "pending"
        },
        {
          "id": "C2",
          "title": "Create Input component",
          "purpose": "Build a modular Input component with default, filled, and outline variants, three size options, floating label animation, icon support, and validation states.",
          "inputs": [
            "docs/tenerife_audit/components_redesign.md: Input/FormInput section",
            "tokens from foundation layer",
            "docs/tenerife_audit/design_system.md"
          ],
          "outputs": [
            "src/components/Input.tsx",
            "src/components/Input.stories.tsx",
            "src/components/Input.test.tsx"
          ],
          "acceptance_criteria": [
            "Default variant uses surface-elevated1 background, border-primary, inner shadow, and primary-coloured focus shadow【770088508010025†L939-L947】.",
            "Filled variant hides border until focus and uses surface-elevated2 background【770088508010025†L951-L959】.",
            "Outline variant uses transparent background and border-primary with glow on focus【770088508010025†L959-L966】.",
            "Size tokens (sm, md, lg) use heights and padding matching the specification【770088508010025†L970-L974】.",
            "Validation states (success, error, warning, disabled) change border and shadow colours as defined【770088508010025†L976-L1016】.",
            "Floating label transitions use proper classes for peer selectors【770088508010025†L1022-L1047】.",
            "Component supports left/right icons and helper text.",
            "Stories show each variant, state, and size; unit tests cover focus, blur, and validation transitions.",
            "Component uses only Tailwind classes that reference CSS variables derived from tokens; no raw colours, spacing or radii are used.",
            "Component is fully controlled via props with zero internal state."
          ],
          "dependencies": ["F1", "F2", "F3", "F4", "F5", "F6", "F7", "F8"],
          "status": "pending"
        },
        {
          "id": "C3",
          "title": "Create FormInput component",
          "purpose": "Compose Input with Label and optional helper text into a FormInput component that manages floating labels and validation messages.",
          "inputs": [
            "docs/tenerife_audit/components_redesign.md: Input/FormInput section",
            "docs/tenerife_audit/design_system.md",
            "C2"
          ],
          "outputs": [
            "src/components/FormInput.tsx",
            "FormInput.stories.tsx",
            "FormInput.test.tsx"
          ],
          "acceptance_criteria": [
            "FormInput uses the Input component internally and renders a label element associated via htmlFor attribute, using proper ARIA attributes.",
            "Floating label is animated in sync with input focus and content state【770088508010025†L1022-L1033】.",
            "Displays helper text below input; error/success messages update aria‑describedby accordingly.",
            "Stories show label positioning, error and success states; tests verify accessibility.",
            "Component uses only Tailwind classes that reference CSS variables derived from tokens; no raw colours, spacing or radii are used.",
            "Component is fully controlled via props with zero internal state."
          ],
          "dependencies": ["C2"],
          "status": "pending"
        },
        {
          "id": "C4",
          "title": "Create Select component",
          "purpose": "Implement a custom Select component with searchable options, accessible keyboard navigation, and three variants (default, filled, outline) matching Input styles.",
          "inputs": [
            "docs/tenerife_audit/components_redesign.md: Input and Select guidelines",
            "docs/tenerife_audit/design_system.md",
            "tokens"
          ],
          "outputs": ["src/components/Select.tsx", "Select.stories.tsx", "Select.test.tsx"],
          "acceptance_criteria": [
            "Select supports default, filled, and outline appearances consistent with Input styles.",
            "Dropdown list is keyboard navigable and ARIA roles are correctly applied.",
            "Searchable input filters options.",
            "Variants and sizes map to spacing and typography tokens.",
            "Stories demonstrate variant and size combinations; tests verify accessibility and option selection.",
            "Component uses only Tailwind classes that reference CSS variables derived from tokens; no raw colours, spacing or radii are used.",
            "Component is fully controlled via props with zero internal state."
          ],
          "dependencies": ["C2", "C3"],
          "status": "pending"
        },
        {
          "id": "C5",
          "title": "Create Textarea component",
          "purpose": "Implement a Textarea component with auto‑resizing, default/filled/outline variants, sizes matching Input, and validation states.",
          "inputs": [
            "docs/tenerife_audit/components_redesign.md",
            "tokens",
            "docs/tenerife_audit/design_system.md"
          ],
          "outputs": ["src/components/Textarea.tsx", "Textarea.stories.tsx", "Textarea.test.tsx"],
          "acceptance_criteria": [
            "Textarea shares styles with Input variants and sizes.",
            "Auto‑resizes based on content and respects min/max rows.",
            "Validation and disabled states apply correct colours and shadows.",
            "Stories show typical use cases; tests cover resizing and state transitions.",
            "Component uses only Tailwind classes that reference CSS variables derived from tokens; no raw colours, spacing or radii are used.",
            "Component is fully controlled via props with zero internal state."
          ],
          "dependencies": ["C2"],
          "status": "pending"
        },
        {
          "id": "C6",
          "title": "Create Label component",
          "purpose": "Implement a simple Label component for form controls with required indicator and helper text support.",
          "inputs": [
            "docs/tenerife_audit/components_redesign.md",
            "docs/tenerife_audit/design_system.md",
            "tokens"
          ],
          "outputs": ["src/components/Label.tsx", "Label.stories.tsx", "Label.test.tsx"],
          "acceptance_criteria": [
            "Label uses typography tokens for size and weight (e.g., medium weight for UI labels【524020591353274†L456-L461】).",
            "Component accepts htmlFor prop to associate with input.",
            "Required state adds an asterisk with appropriate ARIA label.",
            "Helper text may be rendered below.",
            "Stories demonstrate required and optional labels; tests verify association.",
            "Component uses only Tailwind classes that reference CSS variables derived from tokens; no raw colours, spacing or radii are used.",
            "Component is fully controlled via props with zero internal state."
          ],
          "dependencies": [],
          "status": "pending"
        },
        {
          "id": "C7",
          "title": "Create Card (base) component",
          "purpose": "Develop the Card component with variants (default, elevated, glass, outline) and support for images, content, actions, and shadows.",
          "inputs": [
            "docs/tenerife_audit/components_redesign.md: Card section",
            "docs/tenerife_audit/design_system.md",
            "tokens"
          ],
          "outputs": ["src/components/Card.tsx", "Card.stories.tsx", "Card.test.tsx"],
          "acceptance_criteria": [
            "Card variants render surfaces using surface elevation tokens and appropriate shadows: default (surface-elevated1 with shadow-sm), elevated (shadow-md), glass (surface-glass with backdrop blur and border), outline (transparent background with border).",
            "Card supports optional image slot with fixed aspect ratio and gradient overlay, respecting border radius guidelines【524020591353274†L1291-L1300】.",
            "Content area uses spacing tokens for padding.",
            "Optional footer slot allows actions aligned to bottom.",
            "Stories cover all variants and states; tests verify responsive behaviour.",
            "Component uses only Tailwind classes that reference CSS variables derived from tokens; no raw colours, spacing or radii are used.",
            "Component is fully controlled via props with zero internal state."
          ],
          "dependencies": ["F1", "F2", "F3", "F4", "F5", "F6", "F7", "F8"],
          "status": "pending"
        },
        {
          "id": "C8",
          "title": "Create Section component",
          "purpose": "Implement a Section wrapper that applies responsive vertical and horizontal padding, background colours, and container constraints based on the layout guide.",
          "inputs": [
            "docs/tenerife_audit/layout_and_brand_guide.md: section construction principles",
            "docs/tenerife_audit/design_system.md",
            "tokens"
          ],
          "outputs": ["src/components/Section.tsx", "Section.stories.tsx", "Section.test.tsx"],
          "acceptance_criteria": [
            "Section implements the anatomy described in the layout guide: an outer <section> element with vertical padding and background, containing a centred max‑width container with internal spacing【462526369540812†L269-L289】.",
            "Padding values adapt across breakpoints according to hero, content, and footer standards【462526369540812†L82-L99】.",
            "Component supports optional background image or gradient overlay.",
            "Stories demonstrate hero and content sections; tests verify responsive paddings.",
            "Component uses only Tailwind classes that reference CSS variables derived from tokens; no raw colours, spacing or radii are used.",
            "Component is fully controlled via props with zero internal state."
          ],
          "dependencies": ["F3", "F7", "F8"],
          "status": "pending"
        },
        {
          "id": "C9",
          "title": "Create GridLayout component",
          "purpose": "Provide a flexible GridLayout component for arranging items in responsive columns with configurable gaps and auto‑fit behaviour.",
          "inputs": [
            "docs/tenerife_audit/layout_and_brand_guide.md: grid system",
            "docs/tenerife_audit/design_system.md",
            "tokens"
          ],
          "outputs": [
            "src/components/GridLayout.tsx",
            "GridLayout.stories.tsx",
            "GridLayout.test.tsx"
          ],
          "acceptance_criteria": [
            "Grid supports specifying number of columns at different breakpoints and uses grid‑gap tokens defined in F3 (grid-gap-sm, md, lg)【524020591353274†L811-L815】.",
            "Supports auto‑fit and auto‑fill modes for masonry and card grids.",
            "Allows per‑item className override while maintaining consistent spacing.",
            "Stories show typical layouts like three‑column card grids; tests verify responsiveness.",
            "Component uses only Tailwind classes that reference CSS variables derived from tokens; no raw colours, spacing or radii are used.",
            "Component is fully controlled via props with zero internal state."
          ],
          "dependencies": ["F3", "F7", "F8"],
          "status": "pending"
        },
        {
          "id": "C10",
          "title": "Create Badge component",
          "purpose": "Implement the Badge/Tag component with variants and sizes as defined in the redesign specs.",
          "inputs": [
            "docs/tenerife_audit/components_redesign.md: Tag/Badge section",
            "docs/tenerife_audit/design_system.md",
            "tokens"
          ],
          "outputs": ["src/components/Badge.tsx", "Badge.stories.tsx", "Badge.test.tsx"],
          "acceptance_criteria": [
            "Badge supports variants: default, primary, accent, outline, and subtle with corresponding background, text, and ring colours【770088508010025†L3906-L3925】.",
            "Size options xs, sm, and md map to spacing and radius tokens【770088508010025†L3926-L3930】.",
            "Accepts optional icon and children.",
            "Stories display all variants and sizes; tests verify correct classes.",
            "Component uses only Tailwind classes that reference CSS variables derived from tokens; no raw colours, spacing or radii are used.",
            "Component is fully controlled via props with zero internal state."
          ],
          "dependencies": ["F1", "F3", "F4", "F5", "F7", "F8"],
          "status": "pending"
        }
      ]
    },
    {
      "layer": "3. Advanced Components Layer",
      "tasks": [
        {
          "id": "A1",
          "title": "Create EventCard component",
          "purpose": "Develop the EventCard component using the base Card and Badge components. Support featured variant, size options, premium image treatment, metadata icons, and click handling.",
          "inputs": [
            "docs/tenerife_audit/components_redesign.md: EventCard section",
            "C7",
            "C10",
            "tokens"
          ],
          "outputs": [
            "src/components/EventCard.tsx",
            "EventCard.stories.tsx",
            "EventCard.test.tsx"
          ],
          "acceptance_criteria": [
            "EventCard utilises the Card base and applies variant 'elevated' or 'default' depending on the featured prop【770088508010025†L3534-L3538】.",
            "Supports compact, default, and large size configurations mapping typography and padding as specified【770088508010025†L3510-L3529】.",
            "Image slot enforces 16:9 aspect ratio with gradient overlay and zoom on hover【770088508010025†L3428-L3431】.",
            "Genre badge uses Badge component with appropriate variant (primary or accent)【770088508010025†L3556-L3561】.",
            "Metadata icons for date, location, price, and attendees use Lucide icons and align horizontally【770088508010025†L3556-L3603】.",
            "Featured variant adds accent ring and accent‑coloured shadows【770088508010025†L3546-L3552】.",
            "Click handler invokes callback with event ID when card is clicked.",
            "Stories show all sizes and states; tests cover click handling and featured styling.",
            "All Tailwind classes reference CSS variables; no static colours, spacing or radii are specified.",
            "Component exposes all state via props and remains stateless internally."
          ],
          "dependencies": ["C7", "C10", "F4"],
          "status": "pending"
        },
        {
          "id": "A2",
          "title": "Create VenueCard component",
          "purpose": "Implement VenueCard similar to EventCard but tailored for venue information (capacity, rating/reviews).",
          "inputs": ["docs/tenerife_audit/components_redesign.md: VenueCard section", "C7", "C10"],
          "outputs": [
            "src/components/VenueCard.tsx",
            "VenueCard.stories.tsx",
            "VenueCard.test.tsx"
          ],
          "acceptance_criteria": [
            "VenueCard extends the Card base and accepts venue data (id, title, description, image, location, capacity, rating).",
            "Displays rating stars and capacity metadata instead of price and attendees as specified in the redesign【770088508010025†L3417-L3424】.",
            "Supports featured variant with accent glow.",
            "Size options mirror EventCard.",
            "Stories show default and featured venues; tests verify rating rendering.",
            "All Tailwind classes reference CSS variables; no static colours, spacing or radii are specified.",
            "Component exposes all state via props and remains stateless internally."
          ],
          "dependencies": ["A1"],
          "status": "pending"
        },
        {
          "id": "A3",
          "title": "Create SearchBar component",
          "purpose": "Develop the premium SearchBar with pill shape, glass-morphism effect, and clear/focus interactions.",
          "inputs": [
            "docs/tenerife_audit/components_redesign.md: SearchBar section",
            "docs/tenerife_audit/design_system.md",
            "tokens"
          ],
          "outputs": [
            "src/components/SearchBar.tsx",
            "SearchBar.stories.tsx",
            "SearchBar.test.tsx"
          ],
          "acceptance_criteria": [
            "SearchBar uses glass surface with backdrop blur and border as specified【770088508010025†L3851-L3863】.",
            "Component has a left search icon and a right clear button that appears when there is value【770088508010025†L3866-L3871】.",
            "Focus state enlarges shadow and border; transition lasts 300ms as per motion tokens【770088508010025†L3859-L3863】.",
            "Keyboard shortcut (Cmd+K) focuses the search input.",
            "Stories demonstrate default, focused, and filled states; tests cover typing, clearing, and keyboard shortcuts.",
            "All Tailwind classes reference CSS variables; no static colours, spacing or radii are specified.",
            "Component exposes all state via props and remains stateless internally."
          ],
          "dependencies": ["C2", "F4", "F6"],
          "status": "pending"
        },
        {
          "id": "A4",
          "title": "Create Navigation components",
          "purpose": "Implement top navigation bar and navigation link components using glass surfaces and interactive underline animations.",
          "inputs": [
            "docs/tenerife_audit/components_redesign.md: Navigation section",
            "docs/tenerife_audit/design_system.md",
            "tokens"
          ],
          "outputs": [
            "src/components/Navigation.tsx",
            "Navigation.stories.tsx",
            "Navigation.test.tsx"
          ],
          "acceptance_criteria": [
            "Navigation bar is sticky at the top with glass backdrop, border, and subtle shadow【770088508010025†L3878-L3887】.",
            "Navigation links use underline animations for active and hover states【770088508010025†L3890-L3902】.",
            "Menu is responsive: horizontal on desktop, collapsible on mobile with appropriate spacing as per layout guide【462526369540812†L144-L151】.",
            "ARIA roles and keyboard navigation are implemented.",
            "Stories show desktop and mobile variants; tests verify active link styling and accessibility.",
            "All Tailwind classes reference CSS variables; no static colours, spacing or radii are specified.",
            "Component exposes all state via props and remains stateless internally."
          ],
          "dependencies": ["C1", "C8", "F4", "F6"],
          "status": "pending"
        },
        {
          "id": "A5",
          "title": "Create Hero components (full and half height)",
          "purpose": "Provide reusable Hero components for full-height and half-height sections with gradient overlays, background images, and call-to-action buttons.",
          "inputs": ["docs/tenerife_audit/layout_and_brand_guide.md: Hero sections", "C1", "C8"],
          "outputs": [
            "src/components/HeroFull.tsx",
            "src/components/HeroHalf.tsx",
            "Hero.stories.tsx",
            "Hero.test.tsx"
          ],
          "acceptance_criteria": [
            "Full-height hero implements the layout described: background image/video with 90% dark gradient overlay, centre‑aligned content, call-to-action buttons, and scroll indicator【462526369540812†L294-L333】.",
            "Half-height hero aligns content to the bottom, uses gradient overlay, and displays event details as described【462526369540812†L336-L368】.",
            "Component props allow custom headline, subheadline, background image, CTAs, and optional indicators.",
            "Stories display both hero types; tests verify responsive behaviour and overlay application.",
            "All Tailwind classes reference CSS variables; no static colours, spacing or radii are specified.",
            "Component exposes all state via props and remains stateless internally."
          ],
          "dependencies": ["C1", "C8", "F4"],
          "status": "pending"
        },
        {
          "id": "A6",
          "title": "Create Feature component",
          "purpose": "Build an alternating feature section component that supports image and text content with configurable ordering.",
          "inputs": ["docs/tenerife_audit/layout_and_brand_guide.md: Feature Section", "C1", "C8", "C9"],
          "outputs": [
            "src/components/FeatureSection.tsx",
            "FeatureSection.stories.tsx",
            "FeatureSection.test.tsx"
          ],
          "acceptance_criteria": [
            "Feature component renders a section with an image and text side by side, switching order on alternate rows as illustrated【462526369540812†L397-L438】.",
            "Uses grid layout with gap tokens and responsive behaviour.",
            "Props allow specifying title, description, image, CTA, and reversed order.",
            "Stories show default and reversed layouts; tests verify correct ordering and spacing.",
            "All Tailwind classes reference CSS variables; no static colours, spacing or radii are specified.",
            "Component exposes all state via props and remains stateless internally."
          ],
          "dependencies": ["C8", "C9"],
          "status": "pending"
        },
        {
          "id": "A7",
          "title": "Create CTA component",
          "purpose": "Develop a generic call‑to‑action component for section footers with title, description, and two buttons.",
          "inputs": ["docs/tenerife_audit/layout_and_brand_guide.md", "C1", "C8"],
          "outputs": ["src/components/CTA.tsx", "CTA.stories.tsx", "CTA.test.tsx"],
          "acceptance_criteria": [
            "CTA component uses Section for outer wrapper and centres content with generous spacing in accordance with the whitespace philosophy【462526369540812†L154-L164】.",
            "Includes a headline, subheadline, primary and secondary button props.",
            "Supports optional background colour or gradient.",
            "Stories show various CTAs; tests verify alignment and spacing.",
            "All Tailwind classes reference CSS variables; no static colours, spacing or radii are specified.",
            "Component exposes all state via props and remains stateless internally."
          ],
          "dependencies": ["C1", "C8"],
          "status": "pending"
        },
        {
          "id": "A8",
          "title": "Create Modal component",
          "purpose": "Implement accessible modal/dialog component with backdrop, panel, animations, and focus management.",
          "inputs": [
            "docs/tenerife_audit/components_redesign.md: Modal section",
            "docs/tenerife_audit/design_system.md",
            "tokens"
          ],
          "outputs": ["src/components/Modal.tsx", "Modal.stories.tsx", "Modal.test.tsx"],
          "acceptance_criteria": [
            "Backdrop uses semi‑transparent black with blur; panel uses surface-elevated2 background, rounded-2xl radius, and shadow-2xl【770088508010025†L3944-L3948】.",
            "Modal opens with fade and scale animation from 95% to 100%【770088508010025†L3948-L3949】.",
            "Focus is trapped inside modal and returns to trigger after close.",
            "Supports ARIA roles (dialog) and accessible labels.",
            "Stories demonstrate default and long-content modals; tests cover keyboard navigation and closing.",
            "All Tailwind classes reference CSS variables; no static colours, spacing or radii are specified.",
            "Component exposes all state via props and remains stateless internally."
          ],
          "dependencies": ["F4", "F5", "F6", "F7"],
          "status": "pending"
        },
        {
          "id": "A9",
          "title": "Create Dropdown component",
          "purpose": "Implement an accessible dropdown menu with panel styling, keyboard navigation, and animation.",
          "inputs": [
            "docs/tenerife_audit/components_redesign.md: Dropdown section",
            "docs/tenerife_audit/design_system.md",
            "tokens"
          ],
          "outputs": ["src/components/Dropdown.tsx", "Dropdown.stories.tsx", "Dropdown.test.tsx"],
          "acceptance_criteria": [
            "Dropdown panel uses surface-elevated2 background, border, rounded-md radius, and shadow-lg【770088508010025†L3950-L3954】.",
            "Dropdown items have padding defined by spacing tokens and highlight on hover with background change【770088508010025†L3952-L3955】.",
            "Keyboard navigation (arrow keys, enter, escape) is fully supported and ARIA roles are applied.",
            "Stories demonstrate basic dropdown and nested menu; tests verify selection and accessibility.",
            "All Tailwind classes reference CSS variables; no static colours, spacing or radii are specified.",
            "Component exposes all state via props and remains stateless internally."
          ],
          "dependencies": ["C4", "F4", "F6"],
          "status": "pending"
        },
        {
          "id": "A10",
          "title": "Create Avatar component",
          "purpose": "Implement Avatar component supporting multiple sizes, circular shape, and optional status indicator.",
          "inputs": ["docs/tenerife_audit/components_redesign.md: Avatar section", "tokens"],
          "outputs": ["src/components/Avatar.tsx", "Avatar.stories.tsx", "Avatar.test.tsx"],
          "acceptance_criteria": [
            "Avatar supports sizes 6, 8, 10, 12, 16, 20 (rem units), with height and width classes per specification【770088508010025†L3962-L3965】.",
            "Uses full border radius to create a circular shape【524020591353274†L1262-L1263】.",
            "Status indicator is positioned absolutely at the bottom right; its size scales with avatar.",
            "Stories show avatars with and without status; tests verify sizes and indicator alignment.",
            "All Tailwind classes reference CSS variables; no static colours, spacing or radii are specified.",
            "Component exposes all state via props and remains stateless internally."
          ],
          "dependencies": ["F5"],
          "status": "pending"
        },
        {
          "id": "A11",
          "title": "Create Skeleton Loader component",
          "purpose": "Implement a skeleton loader using gradient shimmer animation for loading states.",
          "inputs": ["docs/tenerife_audit/components_redesign.md: Skeleton Loader section", "tokens"],
          "outputs": ["src/components/Skeleton.tsx", "Skeleton.stories.tsx", "Skeleton.test.tsx"],
          "acceptance_criteria": [
            "Skeleton uses gradient from surface-elevated1 to surface-elevated2 and back with animation defined in the redesign【770088508010025†L3970-L3985】.",
            "Animation uses keyframes (shimmer) and runs infinitely with 2s duration as specified【770088508010025†L3970-L3985】.",
            "Component accepts width, height, and border radius props.",
            "Stories show rectangular and circular skeletons; tests verify animation and sizing.",
            "All Tailwind classes reference CSS variables; no static colours, spacing or radii are specified.",
            "Component exposes all state via props and remains stateless internally."
          ],
          "dependencies": ["F6"],
          "status": "pending"
        }
      ]
    },
    {
      "layer": "4. Quality & Delivery Layer",
      "tasks": [
        {
          "id": "Q1",
          "title": "Configure Storybook",
          "purpose": "Set up Storybook for the component library and write stories for all components and their variants.",
          "has_subtasks": true,
          "subtasks_file": ".cursor/tasks/subtasks/Q1.subtasks.json",
          "inputs": ["All component implementations"],
          "outputs": [".storybook/config files", "stories for each component"],
          "acceptance_criteria": [
            "Storybook is installed and configured with Tailwind and theme provider.",
            "Stories exist for each component showing all variants and states, using the layout guide to demonstrate spacing and content hierarchy【462526369540812†L100-L121】.",
            "Storybook runs locally without errors and supports dark and light themes.",
            "Storybook includes accessibility addon for a11y checks."
          ],
          "dependencies": [
            "C1",
            "C2",
            "C3",
            "C4",
            "C5",
            "C6",
            "C7",
            "C8",
            "C9",
            "C10",
            "A1",
            "A2",
            "A3",
            "A4",
            "A5",
            "A6",
            "A7",
            "A8",
            "A9",
            "A10",
            "A11"
          ],
          "status": "pending"
        },
        {
          "id": "Q2",
          "title": "Write unit and integration tests",
          "purpose": "Implement unit and integration tests for all components using Jest and React Testing Library.",
          "inputs": ["Component implementations", "acceptance criteria of each component"],
          "outputs": ["__tests__ directory", "coverage reports"],
          "acceptance_criteria": [
            "Tests cover rendering of all variants, sizes, and states for each component.",
            "Interactions such as hover, focus, click, and keyboard navigation are tested.",
            "Snapshot tests ensure consistent markup.",
            "Test coverage ≥ 80%."
          ],
          "dependencies": [
            "C1",
            "C2",
            "C3",
            "C4",
            "C5",
            "C6",
            "C7",
            "C8",
            "C9",
            "C10",
            "A1",
            "A2",
            "A3",
            "A4",
            "A5",
            "A6",
            "A7",
            "A8",
            "A9",
            "A10",
            "A11"
          ],
          "status": "pending"
        },
        {
          "id": "Q3",
          "title": "Perform accessibility audits",
          "purpose": "Ensure all components comply with WCAG 2.1 AA using automated tooling and manual checks.",
          "inputs": [
            "docs/design_system.md: accessibility standards",
            "stories",
            "docs/tenerife_audit/components_redesign.md"
          ],
          "outputs": ["a11y audit reports"],
          "acceptance_criteria": [
            "Colour contrast ratios meet minimum values (4.5:1 for normal text, 3:1 for large text) as defined【524020591353274†L3116-L3133】.",
            "All interactive elements have visible focus indicators using tokens【524020591353274†L3141-L3161】.",
            "Touch targets meet minimum size (44×44 px)【524020591353274†L3178-L3189】.",
            "Semantic HTML and ARIA labels are used appropriately【524020591353274†L3197-L3272】.",
            "Reduced motion preferences are respected【524020591353274†L3274-L3287】.",
            "All issues found via Storybook a11y addon are resolved."
          ],
          "dependencies": ["Q1"],
          "status": "pending"
        },
        {
          "id": "Q4",
          "title": "Write component documentation",
          "purpose": "Produce comprehensive MDX documentation for each component including purpose, props, usage examples, and design references.",
          "inputs": [
            "docs/tenerife_audit/components_redesign.md",
            "docs/tenerife_audit/layout_and_brand_guide.md",
            "docs/tenerife_audit/design_system.md"
          ],
          "outputs": ["docs/components/*.mdx"],
          "acceptance_criteria": [
            "Each component has a standalone MDX page with description, API table, examples, and accessibility notes.",
            "Documentation references relevant design file sections using citations so developers can trace rationale.",
            "Examples demonstrate correct usage of design tokens and layout patterns.",
            "Docs include admonitions for DOs and DON'Ts where applicable (e.g., whitespace philosophy【462526369540812†L154-L164】)."
          ],
          "dependencies": [
            "C1",
            "C2",
            "C3",
            "C4",
            "C5",
            "C6",
            "C7",
            "C8",
            "C9",
            "C10",
            "A1",
            "A2",
            "A3",
            "A4",
            "A5",
            "A6",
            "A7",
            "A8",
            "A9",
            "A10",
            "A11"
          ],
          "status": "pending"
        },
        {
          "id": "Q5",
          "title": "Add JSDoc comments",
          "purpose": "Annotate all functions, hooks, and components with JSDoc comments to generate API documentation automatically.",
          "inputs": ["source code", "docs/tenerife_audit/design_system.md"],
          "outputs": ["typedoc generated docs"],
          "acceptance_criteria": [
            "All exported functions and components include @param and @returns annotations.",
            "Types are documented for props, tokens, and theme utilities.",
            "API docs can be generated using Typedoc without warnings."
          ],
          "dependencies": [
            "C1",
            "C2",
            "C3",
            "C4",
            "C5",
            "C6",
            "C7",
            "C8",
            "C9",
            "C10",
            "A1",
            "A2",
            "A3",
            "A4",
            "A5",
            "A6",
            "A7",
            "A8",
            "A9",
            "A10",
            "A11"
          ],
          "status": "pending"
        },
        {
          "id": "Q6",
          "title": "Generate API documentation",
          "purpose": "Use Typedoc or similar tool to produce API documentation site from JSDoc comments and publish it with Storybook.",
          "inputs": ["JSDoc comments", "tailwind config", "docs/tenerife_audit/design_system.md"],
          "outputs": ["docs/api"],
          "acceptance_criteria": [
            "API documentation builds without errors and lists all exported modules.",
            "Docs are accessible via Storybook or separate site.",
            "Versioning is included for each release."
          ],
          "dependencies": ["Q5"],
          "status": "pending"
        },
        {
          "id": "Q7",
          "title": "Document theme switching",
          "purpose": "Write documentation explaining how to override the default theme via /themes files and how to integrate the theme provider in consuming projects.",
          "inputs": ["theme files", "docs/tenerife_audit/design_system.md", "ThemeProvider"],
          "outputs": ["docs/theming.md"],
          "acceptance_criteria": [
            "The documentation describes how to create a new theme file by overriding tokens and where to place it in /themes.",
            "Instructions explain how to wrap applications with ThemeProvider and switch themes at runtime.",
            "Examples show that editing one theme file changes the appearance of all components across Storybook."
          ],
          "dependencies": ["F9", "Q4"],
          "status": "pending"
        },
        {
          "id": "Q8",
          "title": "Add multi-theme compilation tests",
          "purpose": "Ensure that all components compile and render correctly under each defined theme (default, dark, brand-specific).",
          "inputs": ["theme files", "component stories", "docs/tenerife_audit/design_system.md"],
          "outputs": ["tests/theme.test.ts"],
          "acceptance_criteria": [
            "Test suite mounts every component under each theme and verifies there are no styling errors or missing variables.",
            "Snapshots confirm that themes correctly override colours, shadows, and other tokens.",
            "Tests fail if any component uses raw values not covered by the tokens."
          ],
          "dependencies": ["F9", "Q1", "Q2"],
          "status": "pending"
        }
      ]
    },
    {
      "layer": "5. Publishing Layer",
      "tasks": [
        {
          "id": "P1",
          "title": "Configure package metadata",
          "purpose": "Set up package.json with name '@tenerife/ui', description, author, repository, license, and publishConfig.",
          "inputs": ["project requirements", "docs/tenerife_audit/design_system.md"],
          "outputs": ["package.json"],
          "acceptance_criteria": [
            "package.json contains correct name, version, description, author, license, repository, and keywords.",
            "publishConfig sets the registry to npm and access to public.",
            "Dependencies and peerDependencies are declared appropriately."
          ],
          "dependencies": [],
          "status": "pending"
        },
        {
          "id": "P2",
          "title": "Implement build system",
          "purpose": "Set up build scripts using Vite or TSup to compile TypeScript/React components into ESM and CJS outputs and generate CSS files.",
          "has_subtasks": true,
          "subtasks_file": ".cursor/tasks/subtasks/P2.subtasks.json",
          "inputs": ["tailwind.config.js", "source code", "docs/tenerife_audit/design_system.md"],
          "outputs": ["dist/"],
          "acceptance_criteria": [
            "Build outputs include ES modules and CommonJS modules with type declarations.",
            "Generated CSS includes Tailwind styles and design tokens.",
            "Build runs without errors and passes tests."
          ],
          "dependencies": [
            "P1",
            "C1",
            "C2",
            "C3",
            "C4",
            "C5",
            "C6",
            "C7",
            "C8",
            "C9",
            "C10",
            "A1",
            "A2",
            "A3",
            "A4",
            "A5",
            "A6",
            "A7",
            "A8",
            "A9",
            "A10",
            "A11"
          ],
          "status": "pending"
        },
        {
          "id": "P3",
          "title": "Implement semantic versioning and release process",
          "purpose": "Define and automate semantic versioning (major/minor/patch) based on commit messages (Conventional Commits). Use standard-version or similar tool.",
          "inputs": ["package.json", "docs/tenerife_audit/design_system.md"],
          "outputs": ["CHANGELOG.md", "release tags"],
          "acceptance_criteria": [
            "Commit message guidelines are documented (feat:, fix:, chore: etc.).",
            "Release script bumps version, generates changelog, and creates git tag.",
            "Pre‑release versions (alpha, beta) are supported for pre‑release builds."
          ],
          "dependencies": ["P1"],
          "status": "pending"
        }
      ]
    },
    {
      "layer": "6. CI/CD Layer",
      "tasks": [
        {
          "id": "CI1",
          "title": "Set up continuous integration pipeline",
          "purpose": "Configure GitHub Actions to run linting, type checking, unit tests, and Storybook build on every pull request.",
          "inputs": ["source code", "package.json", "test suites"],
          "outputs": [".github/workflows/ci.yml"],
          "acceptance_criteria": [
            "Workflow runs ESLint, Prettier, TypeScript check, Jest tests, and build tasks.",
            "All tasks pass before merging; PR is blocked on failure.",
            "Workflow caches dependencies to speed up builds."
          ],
          "dependencies": ["P2", "Q1", "Q2"],
          "status": "pending"
        },
        {
          "id": "CI2",
          "title": "Deploy Storybook automatically",
          "purpose": "Create a CI step to deploy Storybook to GitHub Pages or Vercel on every main branch update.",
          "inputs": [
            "Storybook build",
            "GitHub Pages/Vercel config",
            "docs/tenerife_audit/design_system.md"
          ],
          "outputs": ["deployed Storybook"],
          "acceptance_criteria": [
            "Storybook build runs after tests succeed.",
            "Deployment is atomic and updates version with commit hash.",
            "URL is documented in repository README."
          ],
          "dependencies": ["Q1"],
          "status": "pending"
        },
        {
          "id": "CI3",
          "title": "Automate npm publishing",
          "purpose": "Configure CI to publish the package to npm on new version tags with two‑factor authentication and release notes.",
          "inputs": ["dist folder", "npm credentials", "docs/tenerife_audit/design_system.md"],
          "outputs": ["published package"],
          "acceptance_criteria": [
            "Workflow triggers on version tags and publishes package to npm with correct version.",
            "2FA or npm token is securely stored in GitHub Secrets.",
            "Release notes from changelog are included in GitHub release."
          ],
          "dependencies": ["P3", "P2"],
          "status": "pending"
        }
      ]
    },
    {
      "layer": "7. Maintenance Layer",
      "tasks": [
        {
          "id": "M1",
          "title": "Enable automated dependency updates",
          "purpose": "Set up Dependabot (or similar) to automatically open pull requests for dependency updates with semantic version labels.",
          "inputs": ["package.json", "GitHub configuration", "docs/tenerife_audit/design_system.md"],
          "outputs": [".github/dependabot.yml", "update PRs"],
          "acceptance_criteria": [
            "Dependabot configuration file specifies update frequency and security alerts.",
            "Update PRs run CI pipeline and use semantic versioning for patch updates.",
            "Team reviews and merges updates regularly."
          ],
          "dependencies": ["CI1"],
          "status": "pending"
        },
        {
          "id": "M2",
          "title": "Create issue and pull request templates",
          "purpose": "Provide clear templates for bug reports, feature requests, and pull requests to standardise contributions.",
          "inputs": ["repository requirements", "docs/tenerife_audit/design_system.md"],
          "outputs": [".github/ISSUE_TEMPLATE/*.md", ".github/PULL_REQUEST_TEMPLATE.md"],
          "acceptance_criteria": [
            "Issue templates include sections for summary, reproduction steps, expected vs actual behaviour, and screenshots.",
            "PR template includes checklist for tests, documentation, and changelog updates.",
            "Templates guide contributors to reference relevant design documents."
          ],
          "dependencies": [],
          "status": "pending"
        },
        {
          "id": "M3",
          "title": "Define versioning and maintenance policy",
          "purpose": "Document the versioning policy (semantic versioning), release cadence, and support window for the UI library.",
          "inputs": ["project charter", "docs/tenerife_audit/design_system.md"],
          "outputs": ["MAINTENANCE.md"],
          "acceptance_criteria": [
            "MAINTENANCE.md explains semantic versioning rules (major for breaking changes, minor for features, patch for fixes).",
            "Defines minimum supported Node and React versions.",
            "Specifies maintenance schedule for dependencies and guidelines for deprecating components."
          ],
          "dependencies": ["P3"],
          "status": "pending"
        }
      ]
    }
  ],
  "architecture_overview": {
    "description": "This library is a universal, theme‑driven UI kit built on a foundation of design tokens. All design values (colours, typography, spacing, radii, shadows, motion) originate from token files and are exposed as CSS variables.  Components are stateless and controlled via props; they never reference raw Tailwind values. A theme provider injects the token values at runtime, enabling support for multiple brands and dark/light modes. A multi‑brand engine and CLI tools allow new themes and components to be scaffolded easily.  The orientation layer provides tasks to audit the current codebase, retrofit the theme system, enforce a minimal API, and introduce premium sections, layout primitives and marketplace infrastructure. This ensures the library remains fully autonomous and adaptable to any project."
  },
  "global_acceptance_criteria": [
    "Changing values in a single theme override file propagates through the entire library without editing component code.",
    "No component contains raw values or direct Tailwind colours; tokens fully control visual appearance.",
    "The library is autonomous and works in any project via ThemeProvider.",
    "Components are stateless and controlled via props only."
  ],
  "reference": {
    "structure_of_work": "docs/structure/STRUCTURE_OF_WORK.md"
  },
  "post_task_actions": [
    "After completing ANY task or subtask, Cursor MUST update the task status to 'completed' in master_tasks.json",
    "After completing ANY task or subtask, Cursor MUST update the file: docs/PROJECT_PROGRESS.md",
    "The update MUST include: task ID, date, summary of changes, commit hash (if available)",
    "This applies automatically to: top-level tasks, subtasks, meta-tasks, nested tasks",
    "Task status values: 'pending' (not started), 'in_progress' (currently working), 'completed' (finished successfully), 'cancelled' (no longer needed)"
  ],
  "description": "Master Task version 3.0 builds upon previous versions by incorporating a comprehensive orientation and upgrade layer.  It adds tasks for auditing the existing library, integrating a token‑driven theme system, enforcing a minimal API, scaffolding themes and components via CLI tools, introducing premium layout sections, exporting design tokens, enhancing accessibility and testing, supporting multiple brand themes, creating dynamic layout primitives, building a section builder, integrating Figma token sync, establishing a theme marketplace and documenting customisation guidelines. These tasks complement the existing foundation, core, advanced, quality, publishing, CI/CD and maintenance layers to deliver a truly universal UI library."
}
